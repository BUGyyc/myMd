尽管T C P和U D P都使用相同的网络层（I P），T C P却向应用层提供与U D P完全不同的服务。
T C P提供一种面向连接的、可靠的字节流服务。

# TCP为什么具备可靠性

- 应用数据被分割成T C P认为最适合发送的数据块。由 T C P传递给I P的信息单位称为报文段或段。
- 当T C P发出一个段后，它启动一个定时器，等待目的端确认收到这个报文段。
- 当T C P收到发自T C P连接另一端的数据，它将发送一个确认。
- T C P将保持它首部和数据的检验和。这是一个端到端的检验和，目的是检测数据在传输
过程中的任何变化。如果收到段的检验和有差错， T C P将丢弃这个报文段和不确认收到
此报文段（希望发端超时并重发）。
- 既然T C P报文段作为I P数据报来传输，而I P数据报的到达可能会失序，因此 T C P报文段
的到达也可能会失序。如果必要， T C P将对收到的数据进行重新排序，将收到的数据以
正确的顺序交给应用层。
-  既然I P数据报会发生重复，T C P的接收端必须丢弃重复的数据。
-  T C P还能提供流量控制。 T C P连接的每一方都有固定大小的缓冲空间。 T C P的接收端只
- 允许另一端发送接收端缓冲区所能接纳的数据。这将防止较快主机致使较慢主机的缓冲
区溢出。

# TCP首部组成

TCP通常是20个字节


# TCP的连接

需要三次握手

# TCP的关闭

需要四次握手。
既然一个T C P连接是全双工（即数据在两个方向上能同时传递），因此每个方
向必须单独地进行关闭。

# TCP的半关闭

T C P提供了连接的一端在结束它的发送后还能接收来自另一端数据的能力。这就是所谓
下载
的半关闭。正如我们早些时候提到的只有很少的应用程序使用它。

# 滑动窗口


# 慢启动


# TCP的超时与重传机制

T C P提供可靠的运输层。它使用的方法之一就是确认从另一端收到的数据。但数据和确
认都有可能会丢失。 T C P通过在发送时设置一个定时器来解决这种问题。如果当定时器溢出
时还没有收到确认，它就重传该数据。对任何实现而言，关键之处就在于超时和重传的策略，
即怎样决定超时间隔和如何确定重传的频率。


# 拥塞避免算法



# 快速重传与快速恢复算法